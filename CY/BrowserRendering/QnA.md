> Q. 브라우저렌더링 과정, 동작(브라우저 주소창에~를 입력하면 어떤 일이 일어나나요?)

브라우저의 주소창에 url을 입력하고 엔터를 치면 url이 DNS를 통해 IP 주소로 변환되고 이 IP 주소를 갖는 서버에 GET 요청을 보내게 된다. 그 이후 서버에 존재하던 html 파일이 브라우저 요청에 의해 응답된다.

렌더링 엔진은 html을 한 줄씩 순차적으로 파싱하여 DOM을 생성해 나가다 CSS를 로드하는 link 태그나 style 태그를 만나면 일시 중단하고 css를 파싱하여 CSSOM을 생성한다. CSS 파싱을 완료하면 HTML 파싱이 중단된 지점부터 다시 시작되어 DOM 생성이 재개된다. 이 DOM과 CSSOM은 결합되어 렌더 트리가 되고, 렌더 트리를 기반으로 html 요소의 레이아웃을 계산하고 브라우저 화면에 html 요소를 페인팅함

만일 HTML 파싱 도중 script 태그를 만나면 중단하고 자바스크립트 엔진에 제어권을 넘겨 자바스크립트 엔진이 자바스크립트를 파싱하여 실행한다. 이때 DOM 이나 CSSOM을 변경할 수 있고, 변경된 것들은 다시 렌더 트리로 결합되어 레이아웃과 페인트 과정을 거쳐 화면에 다시 렌더링된다(리플로우, 리페인트). 끝나면 다시 렌더링 엔진에 제어권을 넘겨 html 파싱이 중단된 지점부터 시작되어 DOM 생성을 재개한다.

> Q. script태그를 body태그 밑에 두는 이유:

브라우저는 위에서 아래로 순차적으로 HTML, CSS, 자바스크립트를 파싱하고 실행하므로 script 태그의 위치에 따라 HTML 파싱이 블로킹되어 DOM 생성이 지연될 수 있다. 또한 DOM이 완성되지 않은 상태에서 자바스크립트가 DOM을 조작하면 에러가 발생할 수 있다. 따라서 body 요소의 가장 아래에 script 태그를 위치시키는 것이 좋다.

출처 : https://dal-dagury.tistory.com/76

추가 참고자료: https://writerroom.tistory.com/94